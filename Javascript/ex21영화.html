<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="jquery-3.7.1.min.js"></script>
</head>

<body>
    <button id="btn">영화데이터 요청</button>

    <script>
        // 실습 : 버튼을 클릭했을때, 영화API를 요청 -> 응답데이터를 분석 -> 영화순위,영화제목 출력
        // 통신 : 요청과 응답의 구조 -> 요청은 CLIENT담당  -> Request
        //                           ,응답은 SERVER담당 ->  Response

        // () => {}  jQuery 익명함수 만드는 문법

        $("#btn").on("click", () => {
            $.ajax({
                // 1.요청할 사이트 주소
                url: "http://kobis.or.kr/kobisopenapi/webservice/rest/boxoffice/searchDailyBoxOfficeList.json?key=a758f2ab23ce7d23519758bd10b1def7&targetDt=20250624",
                // 2 : 성공했을때 실행한 코드
                success : (res) => {
                    alert("통신성공");
                    const list = res.boxOfficeResult.dailyBoxOfficeList;
                    for(let i=0; i<list.length;i++){
                        console.log(list[i].movieNm);
                    }
                },
                // 3. : 실패했을때 실행한 코드
                error : () =>  {
                    alert("통신실패");
                }
            })
        })
        // 비동기통신 = 클라이언트와 서버가 통신할때 사용하는 기법 
        // 제이쿼리 ajax , fetch(js), async await(node), axios(react)
        // json 데이터 = Javscript Object Notation : 자바스크립트 객체를 파일로 만든 데이터
        // 키포인트 : 데이터를 꺼낼 때 출발지와 목적지를 잘 설정한다.
        // 키포인트2 : 경유지를 분석 ->객체는 .key / 배열은 [index] 
    </script>

</body>

</html>